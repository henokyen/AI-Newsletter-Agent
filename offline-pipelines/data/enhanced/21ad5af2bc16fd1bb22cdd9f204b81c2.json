{
    "id": "21ad5af2bc16fd1bb22cdd9f204b81c2",
    "metadata": {
        "id": "21ad5af2bc16fd1bb22cdd9f204b81c2",
        "url": "https://github.com/stanford-futuredata/ARES/",
        "title": "GitHub - stanford-futuredata/ARES: Automated Evaluation of RAG Systems",
        "properties": {
            "description": "Automated Evaluation of RAG Systems. Contribute to stanford-futuredata/ARES development by creating an account on GitHub.",
            "keywords": null,
            "author": null,
            "og:image": "https://opengraph.githubassets.com/7dc8d07e601560ccb41e0a80a42de4a92f65de6c76b733d4c7689a9956ab38f5/stanford-futuredata/ARES",
            "og:image:alt": "Automated Evaluation of RAG Systems. Contribute to stanford-futuredata/ARES development by creating an account on GitHub.",
            "og:image:width": "1200",
            "og:image:height": "600",
            "og:site_name": "GitHub",
            "og:type": "object",
            "og:title": "GitHub - stanford-futuredata/ARES: Automated Evaluation of RAG Systems",
            "og:url": "https://github.com/stanford-futuredata/ARES",
            "og:description": "Automated Evaluation of RAG Systems. Contribute to stanford-futuredata/ARES development by creating an account on GitHub.",
            "twitter:image": "https://opengraph.githubassets.com/7dc8d07e601560ccb41e0a80a42de4a92f65de6c76b733d4c7689a9956ab38f5/stanford-futuredata/ARES",
            "twitter:site": "@github",
            "twitter:card": "summary_large_image",
            "twitter:title": "GitHub - stanford-futuredata/ARES: Automated Evaluation of RAG Systems",
            "twitter:description": "Automated Evaluation of RAG Systems. Contribute to stanford-futuredata/ARES development by creating an account on GitHub."
        }
    },
    "parent_metadata": {
        "id": "e5255d3cecdaab1d7e3dad0b4bafc8f3",
        "url": "https://www.notion.so/Evaluate-LLMs-RAG-e5255d3cecdaab1d7e3dad0b4bafc8f3",
        "title": "Evaluate LLMs & RAG",
        "properties": {
            "Type": "Leaf"
        }
    },
    "content": "[Skip to content](https://github.com/stanford-futuredata/ARES/#start-of-content)\n## Navigation Menu\nToggle navigation\n[ ](https://github.com/)\n[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fstanford-futuredata%2FARES%2F)\n  * Product \n    * [ GitHub Copilot Write better code with AI  ](https://github.com/features/copilot)\n    * [ Security Find and fix vulnerabilities  ](https://github.com/features/security)\n    * [ Actions Automate any workflow  ](https://github.com/features/actions)\n    * [ Codespaces Instant dev environments  ](https://github.com/features/codespaces)\n    * [ Issues Plan and track work  ](https://github.com/features/issues)\n    * [ Code Review Manage code changes  ](https://github.com/features/code-review)\n    * [ Discussions Collaborate outside of code  ](https://github.com/features/discussions)\n    * [ Code Search Find more, search less  ](https://github.com/features/code-search)\nExplore\n    * [ All features ](https://github.com/features)\n    * [ Documentation ](https://docs.github.com)\n    * [ GitHub Skills ](https://skills.github.com)\n    * [ Blog ](https://github.blog)\n  * Solutions \nBy company size\n    * [ Enterprises ](https://github.com/enterprise)\n    * [ Small and medium teams ](https://github.com/team)\n    * [ Startups ](https://github.com/enterprise/startups)\n    * [ Nonprofits ](https://github.com/solutions/industry/nonprofits)\nBy use case\n    * [ DevSecOps ](https://github.com/solutions/use-case/devsecops)\n    * [ DevOps ](https://github.com/solutions/use-case/devops)\n    * [ CI/CD ](https://github.com/solutions/use-case/ci-cd)\n    * [ View all use cases ](https://github.com/solutions/use-case)\nBy industry\n    * [ Healthcare ](https://github.com/solutions/industry/healthcare)\n    * [ Financial services ](https://github.com/solutions/industry/financial-services)\n    * [ Manufacturing ](https://github.com/solutions/industry/manufacturing)\n    * [ Government ](https://github.com/solutions/industry/government)\n    * [ View all industries ](https://github.com/solutions/industry)\n[ View all solutions ](https://github.com/solutions)\n  * Resources \nTopics\n    * [ AI ](https://github.com/resources/articles/ai)\n    * [ DevOps ](https://github.com/resources/articles/devops)\n    * [ Security ](https://github.com/resources/articles/security)\n    * [ Software Development ](https://github.com/resources/articles/software-development)\n    * [ View all ](https://github.com/resources/articles)\nExplore\n    * [ Learning Pathways ](https://resources.github.com/learn/pathways)\n    * [ Events & Webinars ](https://resources.github.com)\n    * [ Ebooks & Whitepapers ](https://github.com/resources/whitepapers)\n    * [ Customer Stories ](https://github.com/customer-stories)\n    * [ Partners ](https://partner.github.com)\n    * [ Executive Insights ](https://github.com/solutions/executive-insights)\n  * Open Source \n    * [ GitHub Sponsors Fund open source developers  ](https://github.com/sponsors)\n    * [ The ReadME Project GitHub community articles  ](https://github.com/readme)\nRepositories\n    * [ Topics ](https://github.com/topics)\n    * [ Trending ](https://github.com/trending)\n    * [ Collections ](https://github.com/collections)\n  * Enterprise \n    * [ Enterprise platform AI-powered developer platform  ](https://github.com/enterprise)\nAvailable add-ons\n    * [ Advanced Security Enterprise-grade security features  ](https://github.com/enterprise/advanced-security)\n    * [ Copilot for business Enterprise-grade AI features  ](https://github.com/features/copilot/copilot-business)\n    * [ Premium Support Enterprise-grade 24/7 support  ](https://github.com/premium-support)\n  * [Pricing](https://github.com/pricing)\n\n\nSearch or jump to...\n# Search code, repositories, users, issues, pull requests...\nSearch \nClear\n[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)\n#  Provide feedback \nWe read every piece of feedback, and take your input very seriously.\nInclude my email address so I can be contacted\nCancel  Submit feedback \n#  Saved searches \n## Use saved searches to filter your results more quickly\nName\nQuery\nTo see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). \nCancel  Create saved search \n[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fstanford-futuredata%2FARES%2F)\n[ Sign up ](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=stanford-futuredata%2FARES) Reseting focus\nYou signed in with another tab or window. [Reload](https://github.com/stanford-futuredata/ARES/) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/stanford-futuredata/ARES/) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/stanford-futuredata/ARES/) to refresh your session. Dismiss alert\n{{ message }}\n[ stanford-futuredata ](https://github.com/stanford-futuredata) / **[ARES](https://github.com/stanford-futuredata/ARES) ** Public\n  * [ Notifications ](https://github.com/login?return_to=%2Fstanford-futuredata%2FARES) You must be signed in to change notification settings\n  * [ Fork 57 ](https://github.com/login?return_to=%2Fstanford-futuredata%2FARES)\n  * [ Star  569 ](https://github.com/login?return_to=%2Fstanford-futuredata%2FARES)\n\n\nAutomated Evaluation of RAG Systems \n[ares-ai.vercel.app/](https://ares-ai.vercel.app/ \"https://ares-ai.vercel.app/\")\n### License\n[ Apache-2.0 license ](https://github.com/stanford-futuredata/ARES/blob/main/LICENSE)\n[ 569 stars ](https://github.com/stanford-futuredata/ARES/stargazers) [ 57 forks ](https://github.com/stanford-futuredata/ARES/forks) [ Branches ](https://github.com/stanford-futuredata/ARES/branches) [ Tags ](https://github.com/stanford-futuredata/ARES/tags) [ Activity ](https://github.com/stanford-futuredata/ARES/activity)\n[ Star  ](https://github.com/login?return_to=%2Fstanford-futuredata%2FARES)\n[ Notifications ](https://github.com/login?return_to=%2Fstanford-futuredata%2FARES) You must be signed in to change notification settings\n  * [ Code ](https://github.com/stanford-futuredata/ARES)\n  * [ Issues 15 ](https://github.com/stanford-futuredata/ARES/issues)\n  * [ Pull requests 1 ](https://github.com/stanford-futuredata/ARES/pulls)\n  * [ Actions ](https://github.com/stanford-futuredata/ARES/actions)\n  * [ Projects 0 ](https://github.com/stanford-futuredata/ARES/projects)\n  * [ Security ](https://github.com/stanford-futuredata/ARES/security)\n  * [ Insights ](https://github.com/stanford-futuredata/ARES/pulse)\n\n\nAdditional navigation options\n  * [ Code  ](https://github.com/stanford-futuredata/ARES)\n  * [ Issues  ](https://github.com/stanford-futuredata/ARES/issues)\n  * [ Pull requests  ](https://github.com/stanford-futuredata/ARES/pulls)\n  * [ Actions  ](https://github.com/stanford-futuredata/ARES/actions)\n  * [ Projects  ](https://github.com/stanford-futuredata/ARES/projects)\n  * [ Security  ](https://github.com/stanford-futuredata/ARES/security)\n  * [ Insights  ](https://github.com/stanford-futuredata/ARES/pulse)\n\n\n# stanford-futuredata/ARES\nmain\n[Branches](https://github.com/stanford-futuredata/ARES/branches)[Tags](https://github.com/stanford-futuredata/ARES/tags)\n[](https://github.com/stanford-futuredata/ARES/branches)[](https://github.com/stanford-futuredata/ARES/tags)\nGo to file\nCode\n## Folders and files\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n## Latest commit\n## History\n[420 Commits](https://github.com/stanford-futuredata/ARES/commits/main/)[](https://github.com/stanford-futuredata/ARES/commits/main/)  \n[ares](https://github.com/stanford-futuredata/ARES/tree/main/ares \"ares\")| [ares](https://github.com/stanford-futuredata/ARES/tree/main/ares \"ares\")  \n[checkpoints](https://github.com/stanford-futuredata/ARES/tree/main/checkpoints \"checkpoints\")| [checkpoints](https://github.com/stanford-futuredata/ARES/tree/main/checkpoints \"checkpoints\")  \n[datasets](https://github.com/stanford-futuredata/ARES/tree/main/datasets \"datasets\")| [datasets](https://github.com/stanford-futuredata/ARES/tree/main/datasets \"datasets\")  \n[docs](https://github.com/stanford-futuredata/ARES/tree/main/docs \"docs\")| [docs](https://github.com/stanford-futuredata/ARES/tree/main/docs \"docs\")  \n[.gitignore](https://github.com/stanford-futuredata/ARES/blob/main/.gitignore \".gitignore\")| [.gitignore](https://github.com/stanford-futuredata/ARES/blob/main/.gitignore \".gitignore\")  \n[CHANGELOG.md](https://github.com/stanford-futuredata/ARES/blob/main/CHANGELOG.md \"CHANGELOG.md\")| [CHANGELOG.md](https://github.com/stanford-futuredata/ARES/blob/main/CHANGELOG.md \"CHANGELOG.md\")  \n[LICENSE](https://github.com/stanford-futuredata/ARES/blob/main/LICENSE \"LICENSE\")| [LICENSE](https://github.com/stanford-futuredata/ARES/blob/main/LICENSE \"LICENSE\")  \n[MANIFEST.in](https://github.com/stanford-futuredata/ARES/blob/main/MANIFEST.in \"MANIFEST.in\")| [MANIFEST.in](https://github.com/stanford-futuredata/ARES/blob/main/MANIFEST.in \"MANIFEST.in\")  \n[README.md](https://github.com/stanford-futuredata/ARES/blob/main/README.md \"README.md\")| [README.md](https://github.com/stanford-futuredata/ARES/blob/main/README.md \"README.md\")  \n[pyproject.toml](https://github.com/stanford-futuredata/ARES/blob/main/pyproject.toml \"pyproject.toml\")| [pyproject.toml](https://github.com/stanford-futuredata/ARES/blob/main/pyproject.toml \"pyproject.toml\")  \n[requirements.txt](https://github.com/stanford-futuredata/ARES/blob/main/requirements.txt \"requirements.txt\")| [requirements.txt](https://github.com/stanford-futuredata/ARES/blob/main/requirements.txt \"requirements.txt\")  \n[setup.cfg](https://github.com/stanford-futuredata/ARES/blob/main/setup.cfg \"setup.cfg\")| [setup.cfg](https://github.com/stanford-futuredata/ARES/blob/main/setup.cfg \"setup.cfg\")  \nView all files  \n## Repository files navigation\n  * [README](https://github.com/stanford-futuredata/ARES/)\n  * [Apache-2.0 license](https://github.com/stanford-futuredata/ARES/)\n\n\n## ARES: An Automated Evaluation Framework for Retrieval-Augmented Generation Systems\n[](https://github.com/stanford-futuredata/ARES/#ares-an-automated-evaluation-framework-for-retrieval-augmented-generation-systems)\nTable of Contents: [Installation](https://github.com/stanford-futuredata/ARES/#section1) | [Requirements](https://github.com/stanford-futuredata/ARES/#section2) | [Quick Start](https://github.com/stanford-futuredata/ARES/#section3) | [Citation](https://github.com/stanford-futuredata/ARES/#section4)\n[ ![Static Badge](https://camo.githubusercontent.com/6b5d31d21aef4f058e0cba4c287e77711f02b4e274b4f844852aea8c4e7bfc9e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f72656c656173652d76302e352e372d626c75653f7374796c653d666c6174266c696e6b3d6874747073253341253246253246707974686f6e2e6f7267253246) ](https://pypi.org/project/ares-ai/) [ ![Static Badge](https://camo.githubusercontent.com/e5529da4fbcd04fedc8999cb76124ef95f3e8784c210c8428adec8ad541eb714/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f526561642d4152455325323050617065722d626c75653f7374796c653d666c6174266c696e6b3d687474707325334125324625324661727869762e6f7267253246616273253246323331312e3039343736) ](https://arxiv.org/abs/2311.09476) [ ![Static Badge](https://camo.githubusercontent.com/31b35c96b78866ba74aa2e2f91a1eef8f38e64100b2e3145bd4e8c2586d9ecd5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f526561642d646f63756d656e746174696f6e2d707572706c653f7374796c653d666c6174) ](https://ares-ai.vercel.app/) [ ![Open In Colab](https://camo.githubusercontent.com/96889048f8a9014fdeba2a891f97150c6aac6e723f5190236b10215a97ed41f3/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667) ](https://colab.research.google.com/drive/1DvXr9SvWOw6xaNW8LHcy9C06LKevDPxe#scrollTo=wBDuO0n5c1mz) [![Static Badge](https://camo.githubusercontent.com/e61f998652eb99f389c16a34b1ee8029a54a3ff4b6dd3f31641a1ad8deb44346/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d616465253230776974682d507974686f6e2d7265643f7374796c653d666c6174266c696e6b3d6874747073253341253246253246707974686f6e2e6f7267253246)](https://camo.githubusercontent.com/e61f998652eb99f389c16a34b1ee8029a54a3ff4b6dd3f31641a1ad8deb44346/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d616465253230776974682d507974686f6e2d7265643f7374796c653d666c6174266c696e6b3d6874747073253341253246253246707974686f6e2e6f7267253246)\nARES is a groundbreaking framework for evaluating Retrieval-Augmented Generation (RAG) models. The automated process combines synthetic data generation with fine-tuned classifiers to efficiently assess context relevance, answer faithfulness, and answer relevance, minimizing the need for extensive human annotations. ARES employs synthetic query generation and Prediction-Powered Inference (PPI), providing accurate evaluations with statistical confidence.\n### üí¨ Mini Q&A\n[](https://github.com/stanford-futuredata/ARES/#-mini-qa)\n**What does ARES assess in RAG models?**\nARES conducts a comprehensive evaluation of Retrieval-Augmented Generation (RAG) models, assessing the systems for context relevance, answer faithfulness, and answer relevance. This thorough assessment ensures a complete understanding of the performance of the RAG system.\n**How does ARES automate the evaluation process?**\nARES minimizes the need for human labeling by leveraging fine-tuned classifiers and synthetic data. Its PPI component, Prediction-Powered inference, refines evaluations considering model response variability and provides statistical confidence in the results. By using fine-tuned classifiers and synthetically generated data, ARES cuts down on human labeling needs while providing accurate assessments.\n**Can ARES handle my custom RAG model?**\nYes, ARES is a model-agnostic tool that enables you to generate synthetic queries and answers from your documents. With ARES, you can evaluate these generated queries and answers from your RAG model. ‚Äã\n### ‚öôÔ∏è Installation\n[](https://github.com/stanford-futuredata/ARES/#Ô∏è-installation)\n‚Äã To install ARES, run the following commands: ‚Äã \n```\npip install ares-ai\n```\n\n‚Äã _Optional: Initalize OpenAI or TogetherAI API key with the following command:_\n```\nexport OPENAI_API_KEY=<your key here>\nexport TOGETHER_API_KEY=<your key here>\n```\n\n### üìù Requirements\n[](https://github.com/stanford-futuredata/ARES/#-requirements)\nTo implement ARES for scoring your RAG system and comparing to other RAG configurations, you need three components:‚Äã\n  * A human preference validation set of annotated query, document, and answer triples for the evaluation criteria (e.g. context relevance, answer faithfulness, and/or answer relevance). There should be at least 50 examples but several hundred examples is ideal.\n  * A set of few-shot examples for scoring context relevance, answer faithfulness, and/or answer relevance in your system\n  * A much larger set of unlabeled query-document-answer triples outputted by your RAG system for scoring\n\n\nTo get started with ARES, you'll need to set up your configuration. Below is an example of a configuration for ARES!\nCopy-paste each step to see ARES in action!\n### üì• Download datasets\n[](https://github.com/stanford-futuredata/ARES/#-download-datasets)\nUse the following command to quickly obtain the necessary files for getting started! This includes the 'few_shot_prompt' file for judge scoring and synthetic query generation, as well as both labeled and unlabeled datasets.\n```\nwget https://raw.githubusercontent.com/stanford-futuredata/ARES/main/datasets/example_files/nq_few_shot_prompt_for_judge_scoring.tsv\nwget https://raw.githubusercontent.com/stanford-futuredata/ARES/main/datasets/example_files/nq_few_shot_prompt_for_synthetic_query_generation.tsv\nwget https://raw.githubusercontent.com/stanford-futuredata/ARES/main/datasets/example_files/nq_labeled_output.tsv\nwget https://raw.githubusercontent.com/stanford-futuredata/ARES/main/datasets/example_files/nq_unlabeled_output.tsv\n```\n\nOPTIONAL: You can run the following command to get the full NQ dataset! (37.3 GB)\n```\nfrom ares import ARES\nares = ARES() \nares.KILT_dataset(\"nq\")\n# Fetches NQ datasets with ratios including 0.5, 0.6, 0.7, etc.\n# For purposes of our quick start guide, we rename nq_ratio_0.5 to nq_unlabeled_output and nq_labeled_output.\n```\n\n### üöÄ Quick Start - #1\n[](https://github.com/stanford-futuredata/ARES/#-quick-start---1)\nTo get started with ARES's PPI, you'll need to set up your configuration. Below is an example of a configuration for ARES!\nJust copy-paste as you go to see ARES in action!\n#### Step 1) Run the following to retrieve the UES/IDP scores with GPT3.5!\n[](https://github.com/stanford-futuredata/ARES/#step-1-run-the-following-to-retrieve-the-uesidp-scores-with-gpt35)\n```\nfrom ares import ARES\nues_idp_config = {\n  \"in_domain_prompts_dataset\": \"nq_few_shot_prompt_for_judge_scoring.tsv\",\n  \"unlabeled_evaluation_set\": \"nq_unlabeled_output.tsv\", \n  \"model_choice\" : \"gpt-3.5-turbo-0125\"\n} \nares = ARES(ues_idp=ues_idp_config)\nresults = ares.ues_idp()\nprint(results)\n# {'Context Relevance Scores': [Score], 'Answer Faithfulness Scores': [Score], 'Answer Relevance Scores': [Score]}\n```\n\n#### Step 2) Run the following to retrive ARES's PPI scores with GPT3.5!\n[](https://github.com/stanford-futuredata/ARES/#step-2-run-the-following-to-retrive-aress-ppi-scores-with-gpt35)\n```\nppi_config = { \n  \"evaluation_datasets\": ['nq_unlabeled_output.tsv'], \n  \"few_shot_examples_filepath\": \"nq_few_shot_prompt_for_judge_scoring.tsv\",\n  \"llm_judge\": \"gpt-3.5-turbo-1106\",\n  \"labels\": [\"Context_Relevance_Label\"], \n  \"gold_label_path\": \"nq_labeled_output.tsv\", \n}\nares = ARES(ppi=ppi_config)\nresults = ares.evaluate_RAG()\nprint(results)\n```\n\n### üöÄ Quick Start - #2\n[](https://github.com/stanford-futuredata/ARES/#-quick-start---2)\n#### Step 1) Run the following to see GPT 3.5's accuracy on the NQ unlabeled dataset!\n[](https://github.com/stanford-futuredata/ARES/#step-1-run-the-following-to-see-gpt-35s-accuracy-on-the-nq-unlabeled-dataset)\n```\nfrom ares import ARES\nues_idp_config = {\n  \"in_domain_prompts_dataset\": \"nq_few_shot_prompt_for_judge_scoring.tsv\",\n  \"unlabeled_evaluation_set\": \"nq_unlabeled_output.tsv\", \n  \"model_choice\" : \"gpt-3.5-turbo-0125\"\n} \nares = ARES(ues_idp=ues_idp_config)\nresults = ares.ues_idp()\nprint(results)\n# {'Context Relevance Scores': [Score], 'Answer Faithfulness Scores': [Score], 'Answer Relevance Scores': [Score]}\n```\n\n#### Step 2) Run the following to see ARES's synthetic generation in action!\n[](https://github.com/stanford-futuredata/ARES/#step-2-run-the-following-to-see-aress-synthetic-generation-in-action)\n```\nfrom ares import ARES\nsynth_config = { \n  \"document_filepaths\": [\"nq_labeled_output.tsv\"] ,\n  \"few_shot_prompt_filename\": \"nq_few_shot_prompt_for_synthetic_query_generation.tsv\",\n  \"synthetic_queries_filenames\": [\"synthetic_queries_1.tsv\"], \n  \"documents_sampled\": 6189\n}\nares_module = ARES(synthetic_query_generator=synth_config)\nresults = ares_module.generate_synthetic_data()\nprint(results)\n```\n\n#### Step 3) Run the following to see ARES's training classifier in action!\n[](https://github.com/stanford-futuredata/ARES/#step-3-run-the-following-to-see-aress-training-classifier-in-action)\n```\nfrom ares import ARES\nclassifier_config = {\n  \"training_dataset\": [\"synthetic_queries_1.tsv\"], \n  \"validation_set\": [\"nq_labeled_output.tsv\"], \n  \"label_column\": [\"Context_Relevance_Label\"], \n  \"num_epochs\": 10, \n  \"patience_value\": 3, \n  \"learning_rate\": 5e-6,\n  \"assigned_batch_size\": 1, \n  \"gradient_accumulation_multiplier\": 32, \n}\nares = ARES(classifier_model=classifier_config)\nresults = ares.train_classifier()\nprint(results)\n```\n\nNote: This code creates a checkpoint for the trained classifier. Training may take some time. You can download our jointly trained checkpoint on context relevance here!: [Download Checkpoint](https://drive.google.com/file/d/1INyHfZpsUsn5UEBLSRehI9AX08AI12Lt/view?usp=sharing)\n#### Step 4) Run the following to see ARES's PPI in action!\n[](https://github.com/stanford-futuredata/ARES/#step-4-run-the-following-to-see-aress-ppi-in-action)\n```\nfrom ares import ARES\nppi_config = { \n  \"evaluation_datasets\": ['nq_unlabeled_output.tsv'], \n  \"checkpoints\": [\"Context_Relevance_Label_nq_labeled_output_date_time.pt\"], \n  \"rag_type\": \"question_answering\", \n  \"labels\": [\"Context_Relevance_Label\"], \n  \"gold_label_path\": \"nq_labeled_output.tsv\", \n}\nares = ARES(ppi=ppi_config)\nresults = ares.evaluate_RAG()\nprint(results)\n# Output Should be: \n\"\"\" \nContext_Relevance_Label Scoring\nARES Ranking\nARES Prediction: [0.6056978059262574]\nARES Confidence Interval: [[0.547, 0.664]]\nNumber of Examples in Evaluation Set: [4421]\nGround Truth Performance: [0.6]\nARES LLM Judge Accuracy on Ground Truth Labels: [0.789]\nAnnotated Examples used for PPI: 300\n\"\"\"\n```\n\n### üöÄ Local Model Execution with vLLM\n[](https://github.com/stanford-futuredata/ARES/#-local-model-execution-with-vllm)\nARES supports [vLLM](https://github.com/vllm-project/vllm), allowing for local execution of LLM models, offering enhanced privacy and the ability to operate ARES offline. Below are steps to vLLM for ARES's UES/IDP and PPI!\n#### 1) UES/IDP w/ vLLM\n[](https://github.com/stanford-futuredata/ARES/#1-uesidp-w-vllm)\n```\nfrom ares import ARES\nues_idp_config = {\n  \"in_domain_prompts_dataset\": \"nq_few_shot_prompt_for_judge_scoring.tsv\",\n  \"unlabeled_evaluation_set\": \"nq_unlabeled_output.tsv\", \n  \"model_choice\": \"meta-llama/Llama-2-13b-hf\", # Specify vLLM model\n  \"vllm\": True, # Toggle vLLM to True \n  \"host_url\": \"http://0.0.0.0:8000/v1\" # Replace with server hosting model followed by \"/v1\"\n} \nares = ARES(ues_idp=ues_idp_config)\nresults = ares.ues_idp()\nprint(results)\n```\n\n#### 2) PPI w/ vLLM\n[](https://github.com/stanford-futuredata/ARES/#2-ppi-w-vllm)\n```\nfrom ares import ARES\nppi_config = { \n  \"evaluation_datasets\": ['nq_unabeled_output.tsv'], \n  \"few_shot_examples_filepath\": \"nq_few_shot_prompt_for_judge_scoring.tsv\",\n  \"llm_judge\": \"meta-llama/Llama-2-13b-hf\", # Specify vLLM model\n  \"labels\": [\"Context_Relevance_Label\"], \n  \"gold_label_path\": \"nq_labeled_output.tsv\",\n  \"vllm\": True, # Toggle vLLM to True \n  \"host_url\": \"http://0.0.0.0:8000/v1\" # Replace with server hosting model followed by \"/v1\"\n}\nares = ARES(ppi=ppi_config)\nresults = ares.evaluate_RAG()\nprint(results)\n```\n\nFor more details, refer to our [documentation](https://ares-ai.vercel.app/).\n## Results Replication\n[](https://github.com/stanford-futuredata/ARES/#results-replication)\nWe include synthetic datasets for key experimental results in `synthetic_datasets`. The few-shot prompts used for generation and evaluation are included in `datasets`. We also include instructions for fine-tuning LLM judges in the paper itself. Please reach out to jonsaadfalcon@stanford.edu or manihani@stanford.edu if you have any further questions.\n## Citation\n[](https://github.com/stanford-futuredata/ARES/#citation)\nTo cite our work, please use the following Bibtex:\n```\n@misc{saadfalcon2023ares,\n   title={ARES: An Automated Evaluation Framework for Retrieval-Augmented Generation Systems}, \n   author={Jon Saad-Falcon and Omar Khattab and Christopher Potts and Matei Zaharia},\n   year={2023},\n   eprint={2311.09476},\n   archivePrefix={arXiv},\n   primaryClass={cs.CL}\n}\n\n```\n\n# Appendix\n[](https://github.com/stanford-futuredata/ARES/#appendix)\n### Machine requirements and setup when not using OpenAI API\n[](https://github.com/stanford-futuredata/ARES/#machine-requirements-and-setup-when-not-using-openai-api)\n**Machine requirements**\n  * Over ~100 GB of available disk space\n  * GPU \n    * Should work: A100 (e.g. `Standard_NC24ads_A100_v4` on Azure)\n    * Does not work: \n      * Tested on 2023-12-17 with both `Standard_NC6s_v3` and `Standard_NC12s_v3`, and ran into this error: `torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 160.00 MiB (GPU 0; 15.77 GiB total capacity; 15.12 GiB already allocated; 95.44 MiB free; 15.12 GiB reserved in total by PyTorch)`\n\n\n**Machine setup**\nFor example, on an Azure VM running Linux (ubuntu 20.04), you will need to do the following:\n  * Install conda \n    * First set of commands (can copy-paste multiple lines) \n      * `wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh`\n      * `chmod +x Miniconda3-latest-Linux-x86_64.sh`\n      * `./Miniconda3-latest-Linux-x86_64.sh -b`\n    * Second set of commands (can copy-paste multiple lines) \n      * `export PATH=\"~/miniconda3/bin:$PATH\"`\n      * `conda init`\n  * Install gcc \n    * `sudo apt-get -y update`\n    * `sudo apt-get -y upgrade`\n    * `sudo apt-get -y install build-essential`\n    * `sudo apt-get -y install libpcre3-dev`\n  * Install NVIDIA drivers \n    * `sudo apt install ubuntu-drivers-common -y`\n    * `sudo ubuntu-drivers autoinstall`\n    * `sudo reboot`\n    * SSH in again and confirm the installation was successful by running `nvidia-smi`\n  * `cd` to ARES folder and follow the rest of the README\n\n\n## About\nAutomated Evaluation of RAG Systems \n[ares-ai.vercel.app/](https://ares-ai.vercel.app/ \"https://ares-ai.vercel.app/\")\n### Resources\n[ Readme ](https://github.com/stanford-futuredata/ARES/#readme-ov-file)\n### License\n[ Apache-2.0 license ](https://github.com/stanford-futuredata/ARES/#Apache-2.0-1-ov-file)\n[ Activity](https://github.com/stanford-futuredata/ARES/activity)\n[ Custom properties](https://github.com/stanford-futuredata/ARES/custom-properties)\n### Stars\n[ **569** stars](https://github.com/stanford-futuredata/ARES/stargazers)\n### Watchers\n[ **11** watching](https://github.com/stanford-futuredata/ARES/watchers)\n### Forks\n[ **57** forks](https://github.com/stanford-futuredata/ARES/forks)\n[ Report repository ](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fstanford-futuredata%2FARES&report=stanford-futuredata+%28user%29)\n##  [Releases](https://github.com/stanford-futuredata/ARES/releases)\nNo releases published\n##  [Packages 0](https://github.com/orgs/stanford-futuredata/packages?repo_name=ARES)\nNo packages published \n##  [Contributors 8](https://github.com/stanford-futuredata/ARES/graphs/contributors)\n  * [ ![@jonsaadfalcon](https://avatars.githubusercontent.com/u/41205309?s=64&v=4) ](https://github.com/jonsaadfalcon)\n  * [ ![@robbym-dev](https://avatars.githubusercontent.com/u/92179572?s=64&v=4) ](https://github.com/robbym-dev)\n  * [ ![@dependabot\\[bot\\]](https://avatars.githubusercontent.com/in/29110?s=64&v=4) ](https://github.com/apps/dependabot)\n  * [ ![@AlexisDeschamps](https://avatars.githubusercontent.com/u/12681350?s=64&v=4) ](https://github.com/AlexisDeschamps)\n  * [ ![@WJ44](https://avatars.githubusercontent.com/u/6444535?s=64&v=4) ](https://github.com/WJ44)\n  * [ ![@tm17-abcgen](https://avatars.githubusercontent.com/u/150427853?s=64&v=4) ](https://github.com/tm17-abcgen)\n  * [ ![@elsatch](https://avatars.githubusercontent.com/u/653433?s=64&v=4) ](https://github.com/elsatch)\n  * [ ![@nikil-algomo](https://avatars.githubusercontent.com/u/165323071?s=64&v=4) ](https://github.com/nikil-algomo)\n\n\n## Languages\n  * [ Python 100.0% ](https://github.com/stanford-futuredata/ARES/search?l=python)\n\n\n## Footer\n[ ](https://github.com \"GitHub\") ¬© 2025 GitHub, Inc. \n### Footer navigation\n  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)\n  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)\n  * [Security](https://github.com/security)\n  * [Status](https://www.githubstatus.com/)\n  * [Docs](https://docs.github.com/)\n  * [Contact](https://support.github.com?tags=dotcom-footer)\n  * Manage cookies \n  * Do not share my personal information \n\n\nYou can‚Äôt perform that action at this time. \n",
    "content_quality_score": 0.9,
    "summary": null,
    "child_urls": [
        "https://github.com/stanford-futuredata/ARES/#start-of-content",
        "https://github.com/",
        "https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fstanford-futuredata%2FARES%2F",
        "https://github.com/features/copilot",
        "https://github.com/features/security",
        "https://github.com/features/actions",
        "https://github.com/features/codespaces",
        "https://github.com/features/issues",
        "https://github.com/features/code-review",
        "https://github.com/features/discussions",
        "https://github.com/features/code-search",
        "https://github.com/features",
        "https://docs.github.com",
        "https://skills.github.com",
        "https://github.com/enterprise",
        "https://github.com/team",
        "https://github.com/enterprise/startups",
        "https://github.com/solutions/industry/nonprofits",
        "https://github.com/solutions/use-case/devsecops",
        "https://github.com/solutions/use-case/devops",
        "https://github.com/solutions/use-case/ci-cd",
        "https://github.com/solutions/use-case",
        "https://github.com/solutions/industry/healthcare",
        "https://github.com/solutions/industry/financial-services",
        "https://github.com/solutions/industry/manufacturing",
        "https://github.com/solutions/industry/government",
        "https://github.com/solutions/industry",
        "https://github.com/solutions",
        "https://github.com/resources/articles/ai",
        "https://github.com/resources/articles/devops",
        "https://github.com/resources/articles/security",
        "https://github.com/resources/articles/software-development",
        "https://github.com/resources/articles",
        "https://resources.github.com/learn/pathways",
        "https://resources.github.com",
        "https://github.com/resources/whitepapers",
        "https://github.com/customer-stories",
        "https://partner.github.com",
        "https://github.com/solutions/executive-insights",
        "https://github.com/sponsors",
        "https://github.com/readme",
        "https://github.com/topics",
        "https://github.com/trending",
        "https://github.com/collections",
        "https://github.com/enterprise/advanced-security",
        "https://github.com/features/copilot/copilot-business",
        "https://github.com/premium-support",
        "https://github.com/pricing",
        "https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax",
        "https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=stanford-futuredata%2FARES",
        "https://github.com/stanford-futuredata",
        "https://github.com/stanford-futuredata/ARES",
        "https://github.com/login?return_to=%2Fstanford-futuredata%2FARES",
        "https://github.com/stanford-futuredata/ARES/blob/main/LICENSE",
        "https://github.com/stanford-futuredata/ARES/stargazers",
        "https://github.com/stanford-futuredata/ARES/forks",
        "https://github.com/stanford-futuredata/ARES/branches",
        "https://github.com/stanford-futuredata/ARES/tags",
        "https://github.com/stanford-futuredata/ARES/activity",
        "https://github.com/stanford-futuredata/ARES/issues",
        "https://github.com/stanford-futuredata/ARES/pulls",
        "https://github.com/stanford-futuredata/ARES/actions",
        "https://github.com/stanford-futuredata/ARES/projects",
        "https://github.com/stanford-futuredata/ARES/security",
        "https://github.com/stanford-futuredata/ARES/pulse",
        "https://github.com/stanford-futuredata/ARES/commits/main/",
        "https://github.com/stanford-futuredata/ARES/tree/main/ares",
        "https://github.com/stanford-futuredata/ARES/tree/main/checkpoints",
        "https://github.com/stanford-futuredata/ARES/tree/main/datasets",
        "https://github.com/stanford-futuredata/ARES/tree/main/docs",
        "https://github.com/stanford-futuredata/ARES/blob/main/.gitignore",
        "https://github.com/stanford-futuredata/ARES/blob/main/CHANGELOG.md",
        "https://github.com/stanford-futuredata/ARES/blob/main/MANIFEST.in",
        "https://github.com/stanford-futuredata/ARES/blob/main/README.md",
        "https://github.com/stanford-futuredata/ARES/blob/main/pyproject.toml",
        "https://github.com/stanford-futuredata/ARES/blob/main/requirements.txt",
        "https://github.com/stanford-futuredata/ARES/blob/main/setup.cfg",
        "https://github.com/stanford-futuredata/ARES/",
        "https://github.com/stanford-futuredata/ARES/#ares-an-automated-evaluation-framework-for-retrieval-augmented-generation-systems",
        "https://github.com/stanford-futuredata/ARES/#section1",
        "https://github.com/stanford-futuredata/ARES/#section2",
        "https://github.com/stanford-futuredata/ARES/#section3",
        "https://github.com/stanford-futuredata/ARES/#section4",
        "https://github.com/stanford-futuredata/ARES/#-mini-qa",
        "https://github.com/stanford-futuredata/ARES/#Ô∏è-installation",
        "https://github.com/stanford-futuredata/ARES/#-requirements",
        "https://github.com/stanford-futuredata/ARES/#-download-datasets",
        "https://github.com/stanford-futuredata/ARES/#-quick-start---1",
        "https://github.com/stanford-futuredata/ARES/#step-1-run-the-following-to-retrieve-the-uesidp-scores-with-gpt35",
        "https://github.com/stanford-futuredata/ARES/#step-2-run-the-following-to-retrive-aress-ppi-scores-with-gpt35",
        "https://github.com/stanford-futuredata/ARES/#-quick-start---2",
        "https://github.com/stanford-futuredata/ARES/#step-1-run-the-following-to-see-gpt-35s-accuracy-on-the-nq-unlabeled-dataset",
        "https://github.com/stanford-futuredata/ARES/#step-2-run-the-following-to-see-aress-synthetic-generation-in-action",
        "https://github.com/stanford-futuredata/ARES/#step-3-run-the-following-to-see-aress-training-classifier-in-action",
        "https://github.com/stanford-futuredata/ARES/#step-4-run-the-following-to-see-aress-ppi-in-action",
        "https://github.com/stanford-futuredata/ARES/#-local-model-execution-with-vllm",
        "https://github.com/vllm-project/vllm",
        "https://github.com/stanford-futuredata/ARES/#1-uesidp-w-vllm",
        "https://github.com/stanford-futuredata/ARES/#2-ppi-w-vllm",
        "https://github.com/stanford-futuredata/ARES/#results-replication",
        "https://github.com/stanford-futuredata/ARES/#citation",
        "https://github.com/stanford-futuredata/ARES/#appendix",
        "https://github.com/stanford-futuredata/ARES/#machine-requirements-and-setup-when-not-using-openai-api",
        "https://github.com/stanford-futuredata/ARES/#readme-ov-file",
        "https://github.com/stanford-futuredata/ARES/#Apache-2.0-1-ov-file",
        "https://github.com/stanford-futuredata/ARES/custom-properties",
        "https://github.com/stanford-futuredata/ARES/watchers",
        "https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fstanford-futuredata%2FARES&report=stanford-futuredata+%28user%29",
        "https://github.com/stanford-futuredata/ARES/releases",
        "https://github.com/orgs/stanford-futuredata/packages?repo_name=ARES",
        "https://github.com/stanford-futuredata/ARES/graphs/contributors",
        "https://github.com/jonsaadfalcon",
        "https://github.com/robbym-dev",
        "https://github.com/apps/dependabot",
        "https://github.com/AlexisDeschamps",
        "https://github.com/WJ44",
        "https://github.com/tm17-abcgen",
        "https://github.com/elsatch",
        "https://github.com/nikil-algomo",
        "https://github.com/stanford-futuredata/ARES/search?l=python",
        "https://github.com",
        "https://docs.github.com/site-policy/github-terms/github-terms-of-service",
        "https://docs.github.com/site-policy/privacy-policies/github-privacy-statement",
        "https://github.com/security",
        "https://docs.github.com/",
        "https://support.github.com?tags=dotcom-footer",
        "https://github.blog",
        "https://ares-ai.vercel.app/",
        "https://pypi.org/project/ares-ai/",
        "https://arxiv.org/abs/2311.09476",
        "https://colab.research.google.com/drive/1DvXr9SvWOw6xaNW8LHcy9C06LKevDPxe#scrollTo=wBDuO0n5c1mz",
        "https://camo.githubusercontent.com/e61f998652eb99f389c16a34b1ee8029a54a3ff4b6dd3f31641a1ad8deb44346/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d616465253230776974682d507974686f6e2d7265643f7374796c653d666c6174266c696e6b3d6874747073253341253246253246707974686f6e2e6f7267253246",
        "https://drive.google.com/file/d/1INyHfZpsUsn5UEBLSRehI9AX08AI12Lt/view?usp=sharing",
        "mailto:jonsaadfalcon@stanford.edu",
        "mailto:manihani@stanford.edu",
        "https://www.githubstatus.com/"
    ]
}