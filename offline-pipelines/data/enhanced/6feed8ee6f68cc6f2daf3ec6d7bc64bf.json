{
    "id": "6feed8ee6f68cc6f2daf3ec6d7bc64bf",
    "metadata": {
        "id": "6feed8ee6f68cc6f2daf3ec6d7bc64bf",
        "url": "https://medium.com/@benitomartin/building-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483/",
        "title": "Building a Multimodal LLM Application with PyMuPDF4LLM | by Benito Martin | Medium",
        "properties": {
            "description": "Extracting text from PDFs is a crucial and often challenging step in many AI, and LLM (Large Language Model) applications. High-quality text extraction plays a key role in improving downstream‚Ä¶",
            "keywords": null,
            "author": "Benito Martin",
            "og:site_name": "Medium",
            "og:type": "article",
            "og:title": "Building a Multimodal LLM Application with PyMuPDF4LLM",
            "og:description": "Author: Benito Martin",
            "og:url": "https://medium.com/@benitomartin/building-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483",
            "og:image": "https://miro.medium.com/v2/resize:fit:1164/1*3Vv7d7iPN0yAlt7wXhHLpg.png",
            "twitter:app:name:iphone": "Medium",
            "twitter:app:id:iphone": "828256236",
            "twitter:site": "@Medium",
            "twitter:app:url:iphone": "medium://p/59753cb44483",
            "twitter:image:src": "https://miro.medium.com/v2/resize:fit:1164/1*3Vv7d7iPN0yAlt7wXhHLpg.png",
            "twitter:card": "summary_large_image",
            "twitter:label1": "Reading time",
            "twitter:data1": "10 min read"
        }
    },
    "parent_metadata": {
        "id": "cf6afc1ebfc8ead2dde17845a7e55fed",
        "url": "https://www.notion.so/RAG-cf6afc1ebfc8ead2dde17845a7e55fed",
        "title": "RAG",
        "properties": {
            "Type": [
                "Leaf"
            ]
        }
    },
    "content": "[Open in app](https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F59753cb44483&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderUser&source=post_page---top_nav_layout_nav-----------------------------------------)\nSign up\n[Sign in](https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&source=post_page---top_nav_layout_nav-----------------------global_nav------------------)\n[](https://medium.com/?source=post_page---top_nav_layout_nav-----------------------------------------)\n[Write](https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---top_nav_layout_nav-----------------------new_post_topnav------------------)\n[](https://medium.com/search?source=post_page---top_nav_layout_nav-----------------------------------------)\nSign up\n[Sign in](https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&source=post_page---top_nav_layout_nav-----------------------global_nav------------------)\n![](https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png)\n[Home](https://medium.com/?source=post_page--------------------------------------------)\nFollowing\nLibrary\n[Your lists](https://medium.com/me/lists?source=post_page--------------------------------------------)[Saved lists](https://medium.com/me/lists/saved?source=post_page--------------------------------------------)[Highlights](https://medium.com/me/list/highlights?source=post_page--------------------------------------------)[Reading history](https://medium.com/me/lists/reading-history?source=post_page--------------------------------------------)\n[Stories](https://medium.com/me/stories/drafts?source=post_page--------------------------------------------)[Stats](https://medium.com/me/stats?source=post_page--------------------------------------------)\nMember-only story\n# Building a Multimodal LLM Application with PyMuPDF4LLM\n[![Benito Martin](https://miro.medium.com/v2/resize:fill:88:88/1*XcfvHkzJtTdRNxpyaw38vg.jpeg)](https://medium.com/@benitomartin?source=post_page---byline--59753cb44483---------------------------------------)\n[Benito Martin](https://medium.com/@benitomartin?source=post_page---byline--59753cb44483---------------------------------------)\n¬∑\n[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fff277ca02eb5&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&user=Benito+Martin&userId=ff277ca02eb5&source=post_page-ff277ca02eb5--byline--59753cb44483---------------------post_header------------------)\n10 min read\n¬∑\nSep 30, 2024\n[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2F59753cb44483&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&user=Benito+Martin&userId=ff277ca02eb5&source=---header_actions--59753cb44483---------------------clap_footer------------------)\n--\n5\n[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F59753cb44483&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&source=---header_actions--59753cb44483---------------------bookmark_footer------------------)\nShare\n![](https://miro.medium.com/v2/resize:fit:700/1*3Vv7d7iPN0yAlt7wXhHLpg.png)\nAuthor: Benito Martin\nExtracting text from PDFs is a crucial and often challenging step in many AI, and LLM (Large Language Model) applications. High-quality text extraction plays a key role in improving downstream processes, such as tokenization, embedding creation, or indexing in a vector database, enhancing the overall performance of the application. [PyMuPDF](https://pymupdf.readthedocs.io/en/latest/index.html) is a popular library for this task due to its simplicity, high speed, and reliable text extraction quality.\nIn this blog, we will explore a recently launched free library by Artifex (the creators of PyMuPDF) called [PyMuPDF4LLM](https://pymupdf.readthedocs.io/en/latest/pymupdf4llm/index.html). This new library is designed to simplify text extraction from PDFs and is specifically developed for LLM and Retrieval-Augmented Generation (RAG) applications. It offers two key formats:\n  * **pymupdf4llm.to_markdown()** : Extracts content in Markdown format.\n  * **pymupdf4llm.LlamaMarkdownReader()** : Extracts content as a LlamaIndex document object.\n\n\nWe will focus on the _to_markdown,_ as it includes several hyperparameters that enable features such as image extraction, making it suitable for both text and multimodal applications.\nLet‚Äôs dive in!\n# Main **Features**\nThe full set of hyperparameters can be found in the [API documentation](https://pymupdf.readthedocs.io/en/latest/pymupdf4llm/api.html#pymupdf4llm-api). While we‚Äôll cover a few of them in detail, the key features of **PyMuPDF4LLM** can be summarized as:\n  * **Text extraction** : Extracts content in Markdown format.\n  * **Chunking** : Supports adding metadata, tables, and image lists to the extracted content.\n  * **Image extraction** : Provides options to define image size, resolution, and format.\n  * **Image embedding** : Images are embedded directly within the Markdown output.\n  * **Word extraction** : Enables precise extraction of words from the PDF.\n\n\n# Text Extraction\nThis is the first step of the process. As shown below, the text is extracted into Markdown format, with the option to specify which pages of the document to extract.\n```\n!pip install -qq pymupdf4llm\n```\n```\nimport pymupdf4llmmd_text = pymupdf4llm.to_markdown(doc=\"/content/document.pdf\"‚Ä¶\n```\n\n[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2F59753cb44483&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&user=Benito+Martin&userId=ff277ca02eb5&source=---footer_actions--59753cb44483---------------------clap_footer------------------)\n--\n[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2F59753cb44483&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&user=Benito+Martin&userId=ff277ca02eb5&source=---footer_actions--59753cb44483---------------------clap_footer------------------)\n--\n5\n[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F59753cb44483&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&source=---footer_actions--59753cb44483---------------------bookmark_footer------------------)\n[![Benito Martin](https://miro.medium.com/v2/resize:fill:96:96/1*XcfvHkzJtTdRNxpyaw38vg.jpeg)](https://medium.com/@benitomartin?source=post_page---post_author_info--59753cb44483---------------------------------------)\n[![Benito Martin](https://miro.medium.com/v2/resize:fill:128:128/1*XcfvHkzJtTdRNxpyaw38vg.jpeg)](https://medium.com/@benitomartin?source=post_page---post_author_info--59753cb44483---------------------------------------)\nFollow\n## [Written by Benito Martin](https://medium.com/@benitomartin?source=post_page---post_author_info--59753cb44483---------------------------------------)\n[337 Followers](https://medium.com/@benitomartin/followers?source=post_page---post_author_info--59753cb44483---------------------------------------)\n¬∑[12 Following](https://medium.com/@benitomartin/following?source=post_page---post_author_info--59753cb44483---------------------------------------)\nüòé Passionate Data Scientist, AI & ML Engineer | üëâ Founder Martin Data Solutions | ‚òéÔ∏è Book a Consultation <https://martindatasol.com/consultation>\nFollow\n## Responses (5)\n[](https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page---post_responses--59753cb44483---------------------------------------)\n![](https://miro.medium.com/v2/resize:fill:32:32/1*dmbNkD5D-u45r44go_cf0g.png)\nWrite a response\n[What are your thoughts?](https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&source=---post_responses--59753cb44483---------------------respond_sidebar------------------)\nCancel\nRespond\nAlso publish to my profile\nSee all responses\n[Help](https://help.medium.com/hc/en-us?source=post_page-----59753cb44483---------------------------------------)\n[Status](https://medium.statuspage.io/?source=post_page-----59753cb44483---------------------------------------)\n[About](https://medium.com/about?autoplay=1&source=post_page-----59753cb44483---------------------------------------)\n[Careers](https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----59753cb44483---------------------------------------)\nPress\n[Blog](https://blog.medium.com/?source=post_page-----59753cb44483---------------------------------------)\n[Privacy](https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----59753cb44483---------------------------------------)\n[Rules](https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page-----59753cb44483---------------------------------------)\n[Terms](https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----59753cb44483---------------------------------------)\n[Text to speech](https://speechify.com/medium?source=post_page-----59753cb44483---------------------------------------)\n",
    "content_quality_score": 0.2,
    "summary": null,
    "child_urls": [
        "https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&source=post_page---top_nav_layout_nav-----------------------global_nav------------------",
        "https://medium.com/?source=post_page---top_nav_layout_nav-----------------------------------------",
        "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---top_nav_layout_nav-----------------------new_post_topnav------------------",
        "https://medium.com/search?source=post_page---top_nav_layout_nav-----------------------------------------",
        "https://medium.com/?source=post_page--------------------------------------------",
        "https://medium.com/me/lists?source=post_page--------------------------------------------",
        "https://medium.com/me/lists/saved?source=post_page--------------------------------------------",
        "https://medium.com/me/list/highlights?source=post_page--------------------------------------------",
        "https://medium.com/me/lists/reading-history?source=post_page--------------------------------------------",
        "https://medium.com/me/stories/drafts?source=post_page--------------------------------------------",
        "https://medium.com/me/stats?source=post_page--------------------------------------------",
        "https://medium.com/@benitomartin?source=post_page---byline--59753cb44483---------------------------------------",
        "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fff277ca02eb5&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&user=Benito+Martin&userId=ff277ca02eb5&source=post_page-ff277ca02eb5--byline--59753cb44483---------------------post_header------------------",
        "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2F59753cb44483&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&user=Benito+Martin&userId=ff277ca02eb5&source=---header_actions--59753cb44483---------------------clap_footer------------------",
        "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F59753cb44483&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&source=---header_actions--59753cb44483---------------------bookmark_footer------------------",
        "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fp%2F59753cb44483&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&user=Benito+Martin&userId=ff277ca02eb5&source=---footer_actions--59753cb44483---------------------clap_footer------------------",
        "https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F59753cb44483&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&source=---footer_actions--59753cb44483---------------------bookmark_footer------------------",
        "https://medium.com/@benitomartin?source=post_page---post_author_info--59753cb44483---------------------------------------",
        "https://medium.com/@benitomartin/followers?source=post_page---post_author_info--59753cb44483---------------------------------------",
        "https://medium.com/@benitomartin/following?source=post_page---post_author_info--59753cb44483---------------------------------------",
        "https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page---post_responses--59753cb44483---------------------------------------",
        "https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40benitomartin%2Fbuilding-a-multimodal-llm-application-with-pymupdf4llm-59753cb44483&source=---post_responses--59753cb44483---------------------respond_sidebar------------------",
        "https://help.medium.com/hc/en-us?source=post_page-----59753cb44483---------------------------------------",
        "https://medium.com/about?autoplay=1&source=post_page-----59753cb44483---------------------------------------",
        "https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----59753cb44483---------------------------------------",
        "https://blog.medium.com/?source=post_page-----59753cb44483---------------------------------------",
        "https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----59753cb44483---------------------------------------",
        "https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page-----59753cb44483---------------------------------------",
        "https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----59753cb44483---------------------------------------",
        "https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2F59753cb44483&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderUser&source=post_page---top_nav_layout_nav-----------------------------------------",
        "https://pymupdf.readthedocs.io/en/latest/index.html",
        "https://pymupdf.readthedocs.io/en/latest/pymupdf4llm/index.html",
        "https://pymupdf.readthedocs.io/en/latest/pymupdf4llm/api.html#pymupdf4llm-api",
        "https://martindatasol.com/consultation",
        "https://medium.statuspage.io/?source=post_page-----59753cb44483---------------------------------------",
        "mailto:pressinquiries@medium.com",
        "https://speechify.com/medium?source=post_page-----59753cb44483---------------------------------------"
    ]
}